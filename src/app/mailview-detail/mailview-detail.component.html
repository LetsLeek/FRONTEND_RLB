<div *ngIf="mail" class="mail-detail">
  <div class="card">
    <div class="card-header">
      <h5 class="card-title">{{ mail.subject }}</h5>
      <h6 class="card-subtitle mb-2 text-muted">
        From: {{ mail.from.name }} ({{ mail.from.email }})
      </h6>
      <h6 class="card-subtitle mb-2 text-muted">
        Received: {{ mail.receivedDateTime }}
      </h6>
    </div>
    <div class="card-body">
      <p class="card-text">{{ mail.body.content }}</p>
    </div>
    <div class="card-footer text-muted">
      <a class="btn btn-secondary" [routerLink]="['/mailview']">Back to Inbox</a>
      <button class="btn btn-check m-2" (click)="openModal()">Check</button>
      <select class="form-select" aria-readonly="true" [disabled]="true">
        <option selected>{{ mail.department }}</option> 
      </select>
    </div>
  </div>
</div>

<!-- Custom Modal -->
<div class="custom-modal" *ngIf="isModalVisible">
  <div class="modal-overlay" (click)="closeModal()"></div>
  <div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title">Confirmation</h5>
      <button type="button" class="close-button" (click)="closeModal()">X</button>
    </div>
    <div class="modal-body">
      Are you sure you want to proceed? This action is irreversible.
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-secondary" (click)="closeModal()">Cancel</button>
      <button type="button" class="btn btn-primary" (click)="confirmCheck()">Confirm</button>
    </div>
  </div>
</div>
